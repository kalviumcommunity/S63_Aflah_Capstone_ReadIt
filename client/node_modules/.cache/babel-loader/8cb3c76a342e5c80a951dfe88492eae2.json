{"ast":null,"code":"var _jsxFileName = \"/Users/aflahhaami/reddish/client/src/components/ReplyAndButtons.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { editReply, deleteReply } from '../reducers/postCommentsReducer';\nimport { notify } from '../reducers/notificationReducer';\nimport DeleteDialog from './DeleteDialog';\nimport getErrorMsg from '../utils/getErrorMsg';\nimport { TextField, Button, Typography } from '@material-ui/core';\nimport { useCommentAndBtnsStyles } from '../styles/muiStyles';\nimport SendIcon from '@material-ui/icons/Send';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReplyAndButtons = ({\n  isMobile,\n  reply,\n  postId,\n  commentId,\n  user\n}) => {\n  _s();\n  const [editOpen, setEditOpen] = useState(false);\n  const [editInput, setEditInput] = useState(reply.replyBody);\n  const [submitting, setSubmitting] = useState(false);\n  const dispatch = useDispatch();\n  const classes = useCommentAndBtnsStyles();\n  const handleEditReply = async () => {\n    try {\n      setSubmitting(true);\n      await dispatch(editReply(postId, commentId, reply.id, editInput));\n      setSubmitting(false);\n      setEditOpen(false);\n      dispatch(notify(`Reply edited!`, 'success'));\n    } catch (err) {\n      setSubmitting(false);\n      dispatch(notify(getErrorMsg(err), 'error'));\n    }\n  };\n  const handleReplyDelete = async () => {\n    try {\n      await dispatch(deleteReply(postId, commentId, reply.id));\n      dispatch(notify(`Reply deleted!`, 'success'));\n    } catch (err) {\n      dispatch(notify(getErrorMsg(err), 'error'));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [!editOpen ? /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      children: reply.replyBody\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.inputDiv,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        multiline: true,\n        required: true,\n        fullWidth: true,\n        rows: 2,\n        rowsMax: Infinity,\n        value: editInput,\n        onChange: e => setEditInput(e.target.value),\n        variant: \"outlined\",\n        size: isMobile ? 'small' : 'medium'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.submitBtns,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setEditOpen(false),\n          color: \"primary\",\n          variant: \"outlined\",\n          size: \"small\",\n          className: classes.cancelBtn,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleEditReply,\n          color: \"primary\",\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 26\n          }, this),\n          size: \"small\",\n          disabled: submitting,\n          children: submitting ? 'Updating' : 'Update'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), user && user.id === reply.repliedBy.id && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.btnBar,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        color: \"inherit\",\n        startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 24\n        }, this),\n        className: classes.btnStyle,\n        onClick: () => setEditOpen(prevState => !prevState),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DeleteDialog, {\n        type: \"comment\",\n        handleDelete: handleReplyDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(ReplyAndButtons, \"v/kHY3EwBkFJAzaSmp0L1I5dMDc=\", false, function () {\n  return [useDispatch, useCommentAndBtnsStyles];\n});\n_c = ReplyAndButtons;\nexport default ReplyAndButtons;\nvar _c;\n$RefreshReg$(_c, \"ReplyAndButtons\");","map":{"version":3,"names":["React","useState","useDispatch","editReply","deleteReply","notify","DeleteDialog","getErrorMsg","TextField","Button","Typography","useCommentAndBtnsStyles","SendIcon","EditIcon","jsxDEV","_jsxDEV","ReplyAndButtons","isMobile","reply","postId","commentId","user","_s","editOpen","setEditOpen","editInput","setEditInput","replyBody","submitting","setSubmitting","dispatch","classes","handleEditReply","id","err","handleReplyDelete","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","className","inputDiv","multiline","required","fullWidth","rows","rowsMax","Infinity","value","onChange","e","target","size","submitBtns","onClick","color","cancelBtn","startIcon","disabled","repliedBy","btnBar","btnStyle","prevState","type","handleDelete","_c","$RefreshReg$"],"sources":["/Users/aflahhaami/reddish/client/src/components/ReplyAndButtons.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { editReply, deleteReply } from '../reducers/postCommentsReducer';\nimport { notify } from '../reducers/notificationReducer';\nimport DeleteDialog from './DeleteDialog';\nimport getErrorMsg from '../utils/getErrorMsg';\n\nimport { TextField, Button, Typography } from '@material-ui/core';\nimport { useCommentAndBtnsStyles } from '../styles/muiStyles';\nimport SendIcon from '@material-ui/icons/Send';\nimport EditIcon from '@material-ui/icons/Edit';\n\nconst ReplyAndButtons = ({ isMobile, reply, postId, commentId, user }) => {\n  const [editOpen, setEditOpen] = useState(false);\n  const [editInput, setEditInput] = useState(reply.replyBody);\n  const [submitting, setSubmitting] = useState(false);\n  const dispatch = useDispatch();\n  const classes = useCommentAndBtnsStyles();\n\n  const handleEditReply = async () => {\n    try {\n      setSubmitting(true);\n      await dispatch(editReply(postId, commentId, reply.id, editInput));\n      setSubmitting(false);\n      setEditOpen(false);\n      dispatch(notify(`Reply edited!`, 'success'));\n    } catch (err) {\n      setSubmitting(false);\n      dispatch(notify(getErrorMsg(err), 'error'));\n    }\n  };\n\n  const handleReplyDelete = async () => {\n    try {\n      await dispatch(deleteReply(postId, commentId, reply.id));\n      dispatch(notify(`Reply deleted!`, 'success'));\n    } catch (err) {\n      dispatch(notify(getErrorMsg(err), 'error'));\n    }\n  };\n\n  return (\n    <div>\n      {!editOpen ? (\n        <Typography variant=\"body2\">{reply.replyBody}</Typography>\n      ) : (\n        <div className={classes.inputDiv}>\n          <TextField\n            multiline\n            required\n            fullWidth\n            rows={2}\n            rowsMax={Infinity}\n            value={editInput}\n            onChange={(e) => setEditInput(e.target.value)}\n            variant=\"outlined\"\n            size={isMobile ? 'small' : 'medium'}\n          />\n          <div className={classes.submitBtns}>\n            <Button\n              onClick={() => setEditOpen(false)}\n              color=\"primary\"\n              variant=\"outlined\"\n              size=\"small\"\n              className={classes.cancelBtn}\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handleEditReply}\n              color=\"primary\"\n              variant=\"contained\"\n              startIcon={<SendIcon />}\n              size=\"small\"\n              disabled={submitting}\n            >\n              {submitting ? 'Updating' : 'Update'}\n            </Button>\n          </div>\n        </div>\n      )}\n      {user && user.id === reply.repliedBy.id && (\n        <div className={classes.btnBar}>\n          <Button\n            size=\"small\"\n            color=\"inherit\"\n            startIcon={<EditIcon />}\n            className={classes.btnStyle}\n            onClick={() => setEditOpen((prevState) => !prevState)}\n          >\n            Edit\n          </Button>\n          <DeleteDialog type=\"comment\" handleDelete={handleReplyDelete} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ReplyAndButtons;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}